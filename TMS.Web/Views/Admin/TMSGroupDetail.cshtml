@using lr = Resources.Resources;
@model IEnumerable<TMS.Library.Common.Groups.SecurityGroupsPermission>
@{
    string GroupName = (string)ViewData["GroupName"];
    ViewBag.Title = GroupName;
    //List<TMS.Library.Common.Groups.SecurityGroupsPermission> Model = (List<TMS.Library.Common.Groups.SecurityGroupsPermission>)ViewData["model"];

}
@if (TempData["Success"] != null)
{
    if (TempData["Success"].ToString() == "Success")
    {
        <script>
            jQuery(function () {
                swal({
                    title: '@lr.confirmUpdated',
                    text: '@lr.RecordUpdatedSuccessfully',
                    type: "success"
                });
            });
        </script>
    }
}
<style>
    .right-inner-addon {
        display: none;
    }
</style>
<script>
    jQuery('#checkbox_id').change(function () {


        jQuery('.checkBoxClass').prop("checked", this.checked);

    });

    jQuery('.checkBoxClass').change(function () {

        if (jQuery('input:checkbox:checked.checkBoxClass').length === jQuery("input:checkbox.checkBoxClass").length) {
            jQuery('#checkbox_id').prop("checked", true);
        }
        else {
            jQuery('#checkbox_id').prop("checked", false);
        }

    })
</script>
<div class="form-horizontal">


    <div class="pageTitle">@GroupName</div>
   
    <form method="post" action="@Url.Content("~/Admin/TMSGroupDetail?GroupId=" +Request.QueryString["GroupId"])">
        <fieldset class="scheduler-border">
            <legend class="scheduler-border">Click to Check All</legend>
            <div class="control-group">
                <div class="custom-checkbox">
                    <input type="checkbox" class="checkbox-inline" id="checkbox_id" value="true"style="display:inline-table;" />
                    <label class="checkbox-inline" for="checkbox_id">Click To check All</label>
                </div>
            </div>
        </fieldset>
        @Html.AntiForgeryToken()
        <input id="GroupId" value="@Request.QueryString["GroupId"]" type="hidden" />
        @foreach (var codeGroup in Model.GroupBy(x => x.CategoryLabelResource))
        {
            <fieldset class="scheduler-border">
                <legend class="scheduler-border">@lr.GetByName(codeGroup.Key)</legend>
                <div class="control-group">
                    @foreach (var country in codeGroup)
                    {
                        { Html.RenderPartial("_GroupsPermissionRow", country); }
                    }
                </div>
            </fieldset>
        }
        @if (User.IsInRole("CanUpdateGroupsDetail"))
        {
            <button type="submit" class="k-button k-button-icontext k-primary k-grid-update"><span class="k-icon k-i-check"></span>@lr.Submit</button>
        }
    </form>
</div>

<style>
    .mTop20 {
        margin-top: 10px;
    }
</style>
